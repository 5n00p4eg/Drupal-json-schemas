{
    "title": "Drupal permissions file",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "additionalProperties": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
            "version": {"type": ["string", "number"]},
            "remote": {"type": "string"},
            "license": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "name": {"type": "string"},
                    "url": {"type": "string"},
                    "gpl-compatible": {"type": "boolean"}
                }
            },
            "header": {"type": "boolean"},
            "drupalSettings": {"type": "object"},
            "js": {
                "type": "object",
                "additionalProperties": {
                    "$ref": "#/definitions/file",
                    "properties": {
                        "attributes": {"type": "object"},
                        "cache": {"type": "boolean"},
                        "browsers": {"type": "object"}
                    },
                    "additionalProperties": false
                }
            },
            "css": {
                "type": "object",
                "properties": {
                    "base": {"$ref": "#/definitions/cssFiles"},
                    "layout": {"$ref": "#/definitions/cssFiles"},
                    "component": {"$ref": "#/definitions/cssFiles"},
                    "theme": {"$ref": "#/definitions/cssFiles"},
                    "state": {"$ref": "#/definitions/cssFiles"}
                }
            },
            "dependencies": {
                "type": "array",
                "items": {
                    "type": "string",
                    "pattern": "^.+/.+$"
                }
            }

        }
    },
    "definitions": {
        "file": {
            "type": "object",
            "properties": {
                "minified": {"type": "boolean"},
                "external": {"type": "boolean"},
                "type": {"type": "string"},
                "preprocess": {"type": "boolean"},
                "weight": {"type": "integer"}
            }
        },
        "cssFiles": {
            "type": "object",
            "additionalProperties": {
                "$ref": "#/definitions/file",
                "properties": {
                    "group": {"type": "integer"},
                    "media": {
                        "type": "string",
                        "enum": ["all", "screen", "print", "speech"]
                    }
                },
                "additionalProperties": false
            }
        }

    }
}
